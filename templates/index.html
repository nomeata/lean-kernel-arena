{% extends "base.html" %}

{% block static_path %}{% endblock %}

{% block style %}
.checker-name { font-weight: 600; }
.bg-success { background-color: #d4edda; }
.bg-danger { background-color: #f8d7da; }
.bg-warning { background-color: #fff3cd; }
.text-muted { color: #6c757d; }
.banner {
    width: 100%;
    max-width: 100%;
    height: auto;
    margin: 1rem 0 2rem 0;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
{% endblock %}

{% block content %}
<section>
    <img src="static/kernel-arena-banner.jpg" alt="Lean Kernel Arena Banner" class="banner">
    
    <p>
        The <strong>Lean Kernel Arena</strong> presents, tests and benchmarks proof checkers for the <a href="https://lean-lang.org/">Lean Theorem Prover</a>.
    </p>

</section>

<section>
    {% if checkers %}
    <table class="striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Version</th>
                <th class="text-center" title="Correctly accepted valid proofs">✅</th>
                <th class="text-center" title="Correctly rejected invalid proofs">❌</th>
                <th class="text-right" title="Time to process mathlib test">⏱️</th>
            </tr>
        </thead>
        <tbody>
            {% for checker in checkers %}
            <tr>
                <td><a href="checker/{{ checker.name }}/">{{ checker.name }}</a></td>
                <td>{{ checker.version }}</td>
                <td class="text-center {% if checker.stats.accept_correct == checker.stats.accept_total and checker.stats.accept_total > 0 %}bg-success{% elif checker.stats.accept_correct < checker.stats.accept_total %}bg-error{% endif %}">
                    {{ checker.stats.accept_correct }}/{{ checker.stats.accept_total }}
                </td>
                <td class="text-center {% if checker.stats.reject_correct == checker.stats.reject_total and checker.stats.reject_total > 0 %}bg-success{% elif checker.stats.reject_correct < checker.stats.reject_total %}bg-error{% endif %}">
                    {{ checker.stats.reject_correct }}/{{ checker.stats.reject_total }}
                </td>
                <td class="text-right">
                    {% if checker.stats.mathlib_time is not none %}
                        {{ format_duration(checker.stats.mathlib_time) }}
                    {% else %}
                        -
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-grey">No checkers defined.</p>
    {% endif %}
</section>

<section>
    <header>
        <h3>Details</h3>
    </header>

    <p>
        The data above is generated by running each checker on a suite of test inputs. Test inputs are either valid proofs that should be accepted, or invalid proofs that should be rejected. The checkers are scored based on their ability to correctly accept and reject these tests.
    </p>

    <p>
        The processing time is for the <tt>mathlib</tt> test, the largest correct test in the suite.
    </p>

    <p>
        Checkers that do not implement all features may decline to process certain tests. These tests are not taken into account.
    </p>

    <p>
        For more details on the interface for external checks, and how to submit these, see the project's <a href="https://github.com/leanprover/lean-kernel-arena"><tt>README.md</tt> file</a>.
    </p>

</section>
{% endblock %}
