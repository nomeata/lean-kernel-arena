version: "0.1"
description: |
  **Nanoda** - An alternative Lean 4 kernel implementation in Rust.
  
  This is an independent proof checker that validates Lean 4 exports
  using a different implementation approach. Features:
  
  - Written in Rust for performance
  - Supports standard Lean 4 axioms (propext, choice, etc.)
  - Configurable axiom checking policy
  - Native JSON parsing with string optimizations
  - Parallel checking using multiple threads (set to 4 threads in the kernel arena)
  
  Useful for cross-validation against the official kernel and
  testing implementation diversity in the Lean ecosystem.

  The nanoda integration in the arena does not distinguish between a rejected proof and other forms
  of failure, so they are all repoted as “rejected”.
url: https://github.com/ammkrn/nanoda_lib/
ref: json_string
rev: 2747659518c0d5debe1d05cb02ba9232cafa4897
build: |
  cargo build --release
  cat > config.json <<__END__
   {
     "use_stdin": true,
     "nat_extension": true,
     "string_extension": true,
     "unpermitted_axiom_hard_error": false,
     "permitted_axioms": ["propext", "Classical.choice", "Quot.sound", "Lean.trustCompiler"],
     "num_threads": 4
   }
  __END__
run: |
  target/release/nanoda_bin config.json < "$IN" || exit 1
